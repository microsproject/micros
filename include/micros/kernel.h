/*--------------------------------------------------------------------------------------------------------------------*/
/* SPDX-License-Identifier: MIT */
/*--------------------------------------------------------------------------------------------------------------------*/
#ifndef MICROS_KERNEL_H
#define MICROS_KERNEL_H
/*--------------------------------------------------------------------------------------------------------------------*/
#include <stdbool.h>
#include <stddef.h>
#include <stdint.h>
/*--------------------------------------------------------------------------------------------------------------------*/
#ifdef __cplusplus
extern "C" {
#endif
/*--------------------------------------------------------------------------------------------------------------------*/
uint32_t k_enter_critical(void);
/*--------------------------------------------------------------------------------------------------------------------*/
void k_leave_critical(uint32_t state);
/*--------------------------------------------------------------------------------------------------------------------*/
void k_scheduler_lock(void);
/*--------------------------------------------------------------------------------------------------------------------*/
void k_scheduler_unlock(void);
/*--------------------------------------------------------------------------------------------------------------------*/
bool k_scheduler_is_locked(void);
/*--------------------------------------------------------------------------------------------------------------------*/
void k_scheduler_start(void);
/*--------------------------------------------------------------------------------------------------------------------*/
int k_task_create(void (*task_func)(void*),
                  void* arg,
                  uint32_t* stack_top,
                  size_t stack_size);
/*--------------------------------------------------------------------------------------------------------------------*/
void k_task_yield(void);
/*--------------------------------------------------------------------------------------------------------------------*/
void k_delay_ms(uint32_t ms);
/*--------------------------------------------------------------------------------------------------------------------*/
#ifdef __cplusplus
}
#endif
/*--------------------------------------------------------------------------------------------------------------------*/
#endif
/*--------------------------------------------------------------------------------------------------------------------*/
